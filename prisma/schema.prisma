generator client {
    provider   = "prisma-client-js"
    engineType = "binary"
}

datasource db {
    provider = "postgresql"
    url      = env("DB_URI")
}

model Usuarios {
    id       Int        @id @default(autoincrement())
    nome     String
    email    String     @unique
    senha    String
    apiarios Apiarios[]
}

model Apiarios {
    id        Int        @id @default(autoincrement())
    nome      String
    usuario   Usuarios   @relation(fields: [usuarioId], references: [id], onDelete: Cascade)
    usuarioId Int
    colmeias  Colmeias[]
}

model Colmeias {
    id               Int      @id @default(autoincrement())
    numero           Int
    apiario          Apiarios @relation(fields: [apiarioId], references: [id], onDelete: Cascade)
    apiarioId        Int
    estadoCriaNova   Json?    @default("{}")
    estadoCriaMadura Json?    @default("{}")
    estadoMel        Json?    @default("{}")
    estadoPolen      Json?    @default("{}")
    estadoRainha     Json?    @default("{}")
}
